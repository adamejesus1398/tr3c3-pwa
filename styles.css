:root{
  --bg:#000;--bg2:#0a0a0a;--card:#111;--card2:#161616;
  --border:#1c1c1c;--border2:#2a2a2a;
  --white:#f5f0e8;--muted:#666;--muted2:#333;
  --gold:#f5c400;--gold2:#ffd740;
  --nav-h:72px;
  --sat:env(safe-area-inset-top,44px);
  --sab:env(safe-area-inset-bottom,34px);
}
*{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent;}
html{height:100%;background:#000;}
body{color:var(--white);font-family:'DM Sans',sans-serif;font-weight:300;height:100%;overflow:hidden;}
#app{height:100dvh;display:flex;flex-direction:column;max-width:430px;margin:0 auto;position:relative;background:var(--bg);overflow:hidden;}
.screen{display:none;flex:1;overflow-y:auto;overflow-x:hidden;-webkit-overflow-scrolling:touch;overscroll-behavior-y:contain;padding-bottom:calc(var(--nav-h) + var(--sab) + 12px);}
.screen.active{display:block;}
::-webkit-scrollbar{display:none;}

nav{position:fixed;bottom:0;left:50%;transform:translateX(-50%);width:100%;max-width:430px;background:rgba(0,0,0,0.97);backdrop-filter:blur(28px);-webkit-backdrop-filter:blur(28px);border-top:1px solid rgba(245,196,0,.15);display:flex;align-items:flex-start;justify-content:space-around;z-index:200;padding-top:10px;padding-bottom:calc(var(--sab) + 4px);height:calc(var(--nav-h) + var(--sab));}
.nav-btn{display:flex;flex-direction:column;align-items:center;gap:3px;padding:2px 4px;border:none;background:none;cursor:pointer;flex:1;min-width:0;}
.nav-icon{font-size:17px;transition:transform .2s;}
.nav-lbl{font-size:7px;letter-spacing:.8px;text-transform:uppercase;color:var(--muted);white-space:nowrap;}
.nav-btn.active .nav-lbl{color:var(--gold);}
.nav-btn.active .nav-icon{transform:translateY(-2px);}

.page-header{padding:calc(var(--sat) + 14px) 18px 14px;position:sticky;top:0;background:rgba(0,0,0,0.97);backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);z-index:10;border-bottom:1px solid var(--border);}
.page-tag{font-size:8px;letter-spacing:4px;text-transform:uppercase;color:var(--gold);margin-bottom:2px;}
.page-title{font-family:'Bebas Neue';font-size:32px;letter-spacing:2px;line-height:1;}
.page-sub{font-size:12px;color:var(--muted);margin-top:2px;font-style:italic;font-family:'DM Serif Display';}

.card{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:16px;margin:8px 14px;}
.card-title{font-family:'Bebas Neue';font-size:11px;letter-spacing:2px;color:var(--muted);margin-bottom:12px;}

.btn{padding:13px 18px;border:none;border-radius:12px;color:#000;font-family:'Bebas Neue';font-size:14px;letter-spacing:2px;cursor:pointer;width:100%;margin-top:8px;background:var(--gold);}
.btn:active{transform:scale(.97);}
.btn-sm{padding:9px 16px;font-size:12px;width:auto;margin:0;}

.inp{background:var(--bg2);border:1px solid var(--border2);border-radius:10px;padding:12px 14px;color:var(--white);font-family:'DM Sans';font-size:15px;font-weight:300;outline:none;width:100%;-webkit-appearance:none;}
.inp:focus{border-color:var(--gold);}
.inp::placeholder{color:var(--muted2);}
textarea.inp{resize:none;line-height:1.6;}

.badge{font-size:7.5px;letter-spacing:1.5px;text-transform:uppercase;padding:2px 7px;border-radius:20px;display:inline-block;}
.b-gold{background:rgba(245,196,0,.1);color:var(--gold2);border:1px solid rgba(245,196,0,.2);}
.b-dark{background:rgba(255,255,255,.05);color:var(--muted);border:1px solid var(--border);}

.prog-bar{height:3px;background:var(--border2);border-radius:2px;overflow:hidden;margin-top:5px;}
.prog-fill{height:100%;border-radius:2px;background:var(--gold);transition:width .6s ease;}
.prog-label{display:flex;justify-content:space-between;font-size:11px;color:var(--muted);margin-bottom:3px;}

.home-hero{padding:calc(var(--sat)+14px) 18px 12px;}
.home-greeting{font-size:9px;letter-spacing:3px;text-transform:uppercase;color:var(--gold);margin-bottom:3px;}
.home-title{font-family:'Bebas Neue';font-size:38px;letter-spacing:2px;line-height:1;}
.home-title span{color:var(--gold);}
.home-quote{font-family:'DM Serif Display';font-style:italic;font-size:13px;color:var(--muted);margin-top:5px;line-height:1.5;}
.stats-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:7px;margin:0 14px 8px;}
.stat-box{background:var(--card);border:1px solid var(--border);border-radius:13px;padding:13px 10px;text-align:center;}
.stat-num{font-family:'Bebas Neue';font-size:28px;color:var(--gold);line-height:1;}
.stat-lbl{font-size:7.5px;letter-spacing:1.5px;text-transform:uppercase;color:var(--muted);margin-top:2px;}
.motivator{margin:4px 14px;background:rgba(245,196,0,.05);border:1px solid rgba(245,196,0,.15);border-radius:14px;padding:14px 16px;display:flex;align-items:center;gap:12px;}
.motivator-emoji{font-size:22px;flex-shrink:0;}
.motivator-text{font-family:'DM Serif Display';font-style:italic;font-size:13px;color:var(--white);line-height:1.5;}
.today-block{display:flex;gap:10px;padding:11px 0;border-bottom:1px solid var(--border);}
.today-block:last-child{border-bottom:none;}
.tb-hour{font-family:'Bebas Neue';font-size:13px;color:var(--muted2);min-width:46px;padding-top:2px;}
.tb-name{font-size:13px;font-weight:400;margin-bottom:2px;}
.tb-desc{font-size:11px;color:var(--muted);line-height:1.4;}

.week-dots{display:flex;gap:5px;margin-top:10px;}
.wdot{width:26px;height:26px;border-radius:50%;background:var(--border2);display:flex;align-items:center;justify-content:center;font-size:8px;color:var(--muted2);}
.wdot.done{background:var(--gold);color:#000;font-weight:700;}
.wdot.today{border:2px solid var(--gold);color:var(--gold);}
.hab-item{display:flex;align-items:center;gap:12px;padding:12px 0;border-bottom:1px solid var(--border);cursor:pointer;}
.hab-item:last-child{border-bottom:none;}
.hab-chk{width:26px;height:26px;border-radius:50%;border:2px solid var(--border2);display:flex;align-items:center;justify-content:center;flex-shrink:0;font-size:12px;transition:all .3s;}
.hab-item.done .hab-chk{background:var(--gold);border-color:var(--gold);color:#000;font-weight:700;}
.hab-name{font-size:14px;font-weight:400;}
.hab-item.done .hab-name{color:var(--muted);text-decoration:line-through;}
.hab-sub{font-size:11px;color:var(--muted2);margin-top:1px;}
.hab-streak{font-family:'Bebas Neue';font-size:12px;color:var(--gold);}

.mode-pills{display:flex;gap:6px;padding:10px 14px 0;overflow-x:auto;-webkit-overflow-scrolling:touch;}
.mode-pills::-webkit-scrollbar{display:none;}
.mpill{padding:6px 13px;border-radius:20px;border:1px solid var(--border2);background:none;color:var(--muted);font-size:9px;letter-spacing:1px;text-transform:uppercase;cursor:pointer;white-space:nowrap;font-family:'DM Sans';}
.mpill.active{border-color:var(--gold);color:#000;background:var(--gold);}
.chat-layout{display:flex;flex-direction:column;height:calc(100dvh - var(--nav-h) - var(--sab) - 140px);}
.chat-msgs{flex:1;overflow-y:auto;padding:12px 14px;display:flex;flex-direction:column;gap:10px;-webkit-overflow-scrolling:touch;}
.chat-msgs::-webkit-scrollbar{display:none;}
.msg{max-width:86%;}
.msg.user{align-self:flex-end;}
.msg.ai{align-self:flex-start;}
.bubble{padding:12px 16px;border-radius:18px;font-size:14px;line-height:1.65;}
.msg.user .bubble{background:var(--gold);color:#000;border-bottom-right-radius:4px;font-weight:400;}
.msg.ai .bubble{background:var(--card2);color:var(--white);border-bottom-left-radius:4px;border:1px solid var(--border);}
.msg-meta{font-size:9px;color:var(--muted2);margin-top:2px;padding:0 3px;}
.msg.user .msg-meta{text-align:right;}
.ai-label{font-size:8px;letter-spacing:2px;text-transform:uppercase;color:var(--gold);margin-bottom:3px;padding-left:3px;}
.typing-ind{display:none;align-self:flex-start;background:var(--card2);border:1px solid var(--border);border-radius:18px;border-bottom-left-radius:4px;padding:13px 16px;gap:5px;align-items:center;}
.typing-ind.on{display:flex;}
.tdot{width:6px;height:6px;background:var(--muted);border-radius:50%;animation:tb 1.2s ease infinite;}
.tdot:nth-child(2){animation-delay:.15s;}.tdot:nth-child(3){animation-delay:.3s;}
@keyframes tb{0%,60%,100%{transform:translateY(0);opacity:.4}30%{transform:translateY(-5px);opacity:1}}
.chat-bar{padding:10px 14px;background:rgba(0,0,0,0.98);border-top:1px solid var(--border);display:flex;gap:8px;align-items:flex-end;flex-shrink:0;}
.chat-ta{flex:1;background:var(--card);border:1px solid var(--border2);border-radius:22px;padding:11px 16px;color:var(--white);font-family:'DM Sans';font-size:15px;font-weight:300;resize:none;outline:none;min-height:44px;max-height:110px;line-height:1.5;-webkit-appearance:none;display:block;width:100%;}
.chat-ta:focus{border-color:var(--gold);}
.chat-ta::placeholder{color:var(--muted2);}
.send-btn{width:44px;height:44px;background:var(--gold);border:none;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:18px;flex-shrink:0;color:#000;font-weight:700;}
.send-btn:active{transform:scale(.9);}
.api-box{margin:10px 14px 0;background:var(--card);border:1px solid rgba(245,196,0,.2);border-radius:14px;padding:14px;}
.api-box-lbl{font-size:9px;letter-spacing:3px;text-transform:uppercase;color:var(--gold);margin-bottom:8px;}

.fin-grid{display:grid;grid-template-columns:1fr 1fr;gap:7px;margin:12px 14px 0;}
.fin-box{background:var(--card);border:1px solid var(--border);border-radius:13px;padding:14px 12px;}
.fin-box-lbl{font-size:8px;letter-spacing:2px;text-transform:uppercase;color:var(--muted);margin-bottom:4px;}
.fin-box-val{font-family:'Bebas Neue';font-size:28px;line-height:1;}
.fin-wide{grid-column:1/-1;}
.tx-item{display:flex;align-items:center;gap:11px;padding:11px 0;border-bottom:1px solid var(--border);}
.tx-item:last-child{border-bottom:none;}
.tx-icon{width:36px;height:36px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:15px;flex-shrink:0;}
.tx-info{flex:1;min-width:0;}
.tx-name{font-size:13px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
.tx-date{font-size:10px;color:var(--muted2);margin-top:1px;}
.tx-amt{font-family:'Bebas Neue';font-size:18px;white-space:nowrap;}
.pos{color:#5aaa7a;}.neg{color:#e74c3c;}
.cat-pills{display:flex;flex-wrap:wrap;gap:6px;margin:6px 0;}
.cpill{padding:5px 12px;border-radius:20px;border:1px solid var(--border2);background:none;color:var(--muted);font-size:10px;cursor:pointer;font-family:'DM Sans';}
.cpill.active{border-color:var(--gold);color:#000;background:var(--gold);}
.mentor-tip{background:rgba(245,196,0,.05);border-left:3px solid var(--gold);border-radius:0 10px 10px 0;padding:12px 14px;margin-bottom:8px;}
.mentor-tip-src{font-size:9px;letter-spacing:2px;text-transform:uppercase;color:var(--gold);margin-bottom:4px;}
.mentor-tip-text{font-size:13px;color:var(--white);line-height:1.6;font-style:italic;}

.d-tabs{display:flex;gap:0;margin:12px 14px 0;border:1px solid var(--border2);border-radius:12px;overflow:hidden;}
.d-tab{flex:1;padding:12px;border:none;font-family:'Bebas Neue';font-size:13px;letter-spacing:2px;cursor:pointer;}
.d-tab.active{background:var(--gold);color:#000;}
.d-tab.inactive{background:var(--card);color:var(--muted);}
.mood-row{display:flex;gap:7px;margin:6px 0;}
.mood-btn{flex:1;padding:9px 4px;border-radius:12px;border:1px solid var(--border2);background:none;cursor:pointer;font-size:19px;text-align:center;}
.mood-btn.active{border-color:var(--gold);background:rgba(245,196,0,.1);}
.field-lbl{font-size:9px;letter-spacing:2px;text-transform:uppercase;color:var(--gold);margin-bottom:6px;}
.field-wrap{margin-bottom:14px;}
.track-month{font-family:'Bebas Neue';font-size:12px;letter-spacing:3px;color:var(--gold);padding:12px 14px 5px;}
.track-row{display:flex;align-items:center;gap:10px;padding:11px 16px;border-bottom:1px solid var(--border);cursor:pointer;}
.track-row:last-child{border-bottom:none;}
.track-dot{width:7px;height:7px;border-radius:50%;background:var(--gold);flex-shrink:0;}
.track-date{font-family:'Bebas Neue';font-size:11px;letter-spacing:1px;color:var(--muted);min-width:68px;}
.track-preview{font-size:12px;color:var(--white);opacity:.7;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;flex:1;}
.track-mood{font-size:15px;flex-shrink:0;}

.obj-item{display:flex;gap:10px;align-items:flex-start;padding:10px 0;border-bottom:1px solid var(--border);cursor:pointer;}
.obj-item:last-child{border-bottom:none;}
.obj-chk{width:22px;height:22px;border-radius:6px;border:2px solid var(--border2);display:flex;align-items:center;justify-content:center;flex-shrink:0;font-size:11px;}
.obj-item.done .obj-chk{background:var(--gold);border-color:var(--gold);color:#000;font-weight:700;}
.obj-text{font-size:13px;line-height:1.5;}
.obj-item.done .obj-text{color:var(--muted);text-decoration:line-through;}

.rblock{margin:7px 14px;border-radius:14px;overflow:hidden;border:1px solid var(--border);}
.rblock-hdr{padding:13px 15px;display:flex;align-items:center;gap:10px;cursor:pointer;background:rgba(245,196,0,.04);}
.rblock-emoji{font-size:17px;}
.rblock-title{font-family:'Bebas Neue';font-size:16px;letter-spacing:1.5px;color:var(--gold);}
.rblock-time{font-size:9px;color:var(--muted);}
.rblock-arrow{font-size:10px;color:var(--muted2);margin-left:auto;transition:transform .3s;}
.rblock.open .rblock-arrow{transform:rotate(180deg);}
.rblock-body{display:none;padding:0 15px 13px;}
.rblock.open .rblock-body{display:block;}
.rstep{display:flex;gap:9px;padding:8px 0;border-bottom:1px solid var(--border);align-items:flex-start;}
.rstep:last-child{border-bottom:none;}
.rstep-num{font-family:'Bebas Neue';font-size:11px;color:var(--gold);min-width:16px;padding-top:1px;}
.rstep-name{font-size:13px;font-weight:400;margin-bottom:1px;}
.rstep-dur{font-size:11px;color:var(--muted);}
.sec-title{font-family:'Bebas Neue';font-size:11px;letter-spacing:3px;color:var(--gold);padding:14px 14px 0;}
.rphase{margin:7px 14px;border-radius:14px;overflow:hidden;border:1px solid var(--border);}
.rphase-hdr{padding:15px 17px;cursor:pointer;display:flex;align-items:center;gap:11px;background:rgba(245,196,0,.04);}
.rphase-num{font-family:'Bebas Neue';font-size:34px;line-height:1;opacity:.15;color:var(--gold);}
.rphase-title{font-family:'Bebas Neue';font-size:19px;letter-spacing:1.5px;color:var(--gold);}
.rphase-days{font-size:9px;letter-spacing:2px;text-transform:uppercase;color:var(--muted);margin-top:2px;}
.rphase-arrow{font-size:10px;color:var(--muted2);transition:transform .3s;}
.rphase.open .rphase-arrow{transform:rotate(180deg);}
.rphase-body{display:none;padding:0 17px 15px;}
.rphase.open .rphase-body{display:block;}
.phase-obj{background:rgba(245,196,0,.04);border-radius:10px;padding:11px 13px;margin-bottom:13px;font-size:12px;color:var(--muted);line-height:1.6;}
.phase-obj strong{color:var(--white);font-weight:400;}
.ptask{padding:9px 0;border-bottom:1px solid var(--border);display:flex;gap:9px;}
.ptask:last-child{border-bottom:none;}
.ptask-day{font-family:'Bebas Neue';font-size:10px;color:var(--gold);min-width:36px;padding-top:2px;}
.ptask-name{font-size:13px;font-weight:400;margin-bottom:2px;}
.ptask-desc{font-size:11px;color:var(--muted);line-height:1.5;}
.ptask-desc em{color:var(--gold2);font-style:normal;}
.goal-banner{margin:10px 14px;background:rgba(245,196,0,.07);border:1px solid rgba(245,196,0,.25);border-radius:14px;padding:18px;text-align:center;}
.goal-num{font-family:'Bebas Neue';font-size:50px;color:var(--gold);line-height:1;}
.goal-sub{font-size:9px;letter-spacing:3px;text-transform:uppercase;color:var(--gold);opacity:.6;margin-top:3px;}
.goal-desc{font-size:12px;color:var(--muted);margin-top:7px;line-height:1.5;}

.spirit-card{margin:10px 14px;background:rgba(245,196,0,.05);border:1px solid rgba(245,196,0,.2);border-radius:14px;padding:20px 17px;}
.spirit-lbl{font-size:8px;letter-spacing:3px;text-transform:uppercase;color:var(--gold);margin-bottom:9px;}
.spirit-text{font-family:'DM Serif Display';font-style:italic;font-size:15px;color:var(--white);line-height:1.7;margin-bottom:7px;}
.spirit-ref{font-size:10px;color:var(--gold);opacity:.6;}
.spirit-guide{background:rgba(245,196,0,.04);border-left:3px solid var(--gold);border-radius:0 10px 10px 0;padding:13px 15px;margin-bottom:10px;}
.spirit-guide-title{font-family:'Bebas Neue';font-size:11px;letter-spacing:2px;color:var(--gold);margin-bottom:5px;}
.spirit-guide-text{font-size:13px;color:var(--white);line-height:1.65;}
.spirit-practice{display:flex;gap:11px;padding:11px 0;border-bottom:1px solid var(--border);cursor:pointer;}
.spirit-practice:last-child{border-bottom:none;}
.sp-chk{width:24px;height:24px;border-radius:50%;border:2px solid var(--border2);display:flex;align-items:center;justify-content:center;flex-shrink:0;font-size:11px;}
.spirit-practice.done .sp-chk{background:var(--gold);border-color:var(--gold);color:#000;font-weight:700;}
.sp-name{font-size:13px;font-weight:400;}
.spirit-practice.done .sp-name{color:var(--muted);text-decoration:line-through;}
.sp-desc{font-size:11px;color:var(--muted);margin-top:2px;line-height:1.5;}
.affirmation-box{background:rgba(245,196,0,.06);border:1px solid rgba(245,196,0,.15);border-radius:12px;padding:16px;}
.affirmation-text{font-family:'DM Serif Display';font-style:italic;font-size:15px;color:var(--white);line-height:1.65;}
.trading-row{display:flex;gap:10px;padding:10px 0;border-bottom:1px solid var(--border);cursor:pointer;align-items:flex-start;}
.trading-row:last-child{border-bottom:none;}
.tcheck{width:20px;height:20px;border:2px solid var(--border2);border-radius:5px;flex-shrink:0;display:flex;align-items:center;justify-content:center;font-size:11px;}
.trading-row.chk .tcheck{background:var(--gold);border-color:var(--gold);color:#000;font-weight:700;}
.trading-rule{font-size:13px;font-weight:400;margin-bottom:2px;}
.trading-desc{font-size:11px;color:var(--muted);line-height:1.5;}

@keyframes fadeUp{from{opacity:0;transform:translateY(14px)}to{opacity:1;transform:none}}
.fade-in{animation:fadeUp .4s ease both;}
